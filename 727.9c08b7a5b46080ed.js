"use strict";(self.webpackChunktask_control_app=self.webpackChunktask_control_app||[]).push([[727],{5727:(Z,c,s)=>{s.r(c),s.d(c,{AuthModule:()=>F});var m=s(6895),o=s(8256),l=s(7998),g=s(3841),n=s(433),p=s(2152);function d(e,i){1&e&&(o.TgZ(0,"div"),o._UZ(1,"app-loading-spinner"),o.qZA())}function f(e,i){1&e&&(o.TgZ(0,"p",11),o._uU(1," Min 8 char, at least 1 letter(EN) and 1 number "),o.qZA())}function u(e,i){if(1&e){const t=o.EpF();o.TgZ(0,"form",2),o.NdJ("ngSubmit",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.onSubmit())}),o.TgZ(1,"h3",3),o._uU(2,"Register"),o.qZA(),o._UZ(3,"input",4)(4,"input",5)(5,"input",6),o.YNc(6,f,2,0,"p",7),o.TgZ(7,"button",8),o._uU(8," Register "),o.qZA(),o.TgZ(9,"p",9),o._uU(10," Already have an account? "),o.TgZ(11,"a",10),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.onShowLoginForm())}),o._uU(12,"Sign In"),o.qZA()()()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.registerForm),o.xp6(6),o.Q6J("ngIf",t.registerForm.controls.password.invalid&&t.registerForm.controls.password.dirty),o.xp6(1),o.Q6J("disabled",!!t.registerForm.invalid)}}let _=(()=>{class e{constructor(t,r,a){this.authService=t,this.router=r,this.ngZone=a,this.isLoading=!1}ngOnInit(){this.registerForm=new n.cw({login:new n.NI(null,[n.kI.required]),email:new n.NI(null,[n.kI.required,this.authService.checkEmailValidator]),password:new n.NI(null,[n.kI.required,n.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)])})}onShowLoginForm(){this.authService.setLoginMode(!0),this.registerForm.reset()}onSubmit(){this.isLoading=!0;const{login:t,email:r,password:a}=this.registerForm.value;this.authService.register(t,r,a).subscribe({next:()=>{this.authService.setLoginMode(!0),this.isLoading=!1,this.ngZone.run(()=>{this.router.navigate(["/dashboard"])})},error:O=>{this.isLoading=!1,alert(O.error)}}),this.registerForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.e),o.Y36(g.F0),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-register-form"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form__title"],["type","login","name","login","formControlName","login","placeholder","login",1,"form__input"],["type","email","name","email","formControlName","email","placeholder","Email",1,"form__input"],["type","password","name","password","formControlName","password","placeholder","Password",1,"form__input"],["class","form__message",4,"ngIf"],["type","submit",1,"form__btn",3,"disabled"],[1,"form__footer"],[3,"click"],[1,"form__message"]],template:function(t,r){1&t&&(o.YNc(0,d,2,0,"div",0),o.YNc(1,u,13,3,"form",1)),2&t&&(o.Q6J("ngIf",r.isLoading),o.xp6(1),o.Q6J("ngIf",!r.isLoading))},dependencies:[m.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,p.g],styles:[".form[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #217074;border-radius:10px;display:flex;flex-direction:column;box-shadow:2px 2px 8px 2px #aaaba8;position:relative;animation:showForm .5s linear}.form__title[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.5rem;font-weight:500;text-align:left}.form__input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;font-family:Open Sans;font-size:1rem;border:none;border-bottom:2px solid #aaaba8;outline:none}.form__input[_ngcontent-%COMP%]:last-of-type{margin-bottom:2px}.form__message[_ngcontent-%COMP%]{font-size:.75rem;line-height:1;text-align:left;color:#ed413e}.form__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ed413e}.form__btn[_ngcontent-%COMP%]{margin:18px 0 10px;padding:10px;font-family:Open Sans;font-size:1.2rem;font-weight:700;letter-spacing:1px;border-radius:10px;background-color:#217074;border:2px solid #217074;color:#e7eaef;cursor:pointer;transition:all .2s linear}.form__btn[_ngcontent-%COMP%]:hover{background-color:#e7eaef;color:#217074}.form__btn[_ngcontent-%COMP%]:disabled{background-color:#d2d2d4;border-color:#d2d2d4;color:#fff;cursor:auto}.form__footer[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}.form__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-decoration:none;color:#217074;cursor:pointer}.form__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes showForm{0%{top:-15px;opacity:0}to{top:0;opacity:1}}"]}),e})();function h(e,i){1&e&&(o.TgZ(0,"div"),o._UZ(1,"app-loading-spinner"),o.qZA())}function x(e,i){if(1&e){const t=o.EpF();o.TgZ(0,"form",2),o.NdJ("ngSubmit",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.onSubmit())}),o.TgZ(1,"h3",3),o._uU(2,"Login"),o.qZA(),o._UZ(3,"input",4)(4,"input",5),o.TgZ(5,"button",6),o._uU(6," Login "),o.qZA(),o.TgZ(7,"p",7),o._uU(8," Don't have an account? "),o.TgZ(9,"a",8),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.onShowRegisterForm())}),o._uU(10,"Register"),o.qZA()()()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.loginForm),o.xp6(5),o.Q6J("disabled",!!t.loginForm.invalid)}}let b=(()=>{class e{constructor(t,r,a){this.authService=t,this.router=r,this.ngZone=a,this.isLoading=!1}ngOnInit(){this.loginForm=new n.cw({email:new n.NI(null,[n.kI.required,this.authService.checkEmailValidator]),password:new n.NI(null,[n.kI.required])})}onShowRegisterForm(){this.authService.setLoginMode(!1),this.loginForm.reset()}onSubmit(){this.isLoading=!0;const{email:t,password:r}=this.loginForm.value;this.authService.login(t,r).subscribe({next:()=>{this.isLoading=!1,this.ngZone.run(()=>{this.router.navigate(["/dashboard"])})},error:a=>{this.isLoading=!1,alert(a.error)}}),this.loginForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.e),o.Y36(g.F0),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login-form"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form__title"],["type","email","name","email","formControlName","email","placeholder","Email",1,"form__input"],["type","password","name","password","formControlName","password","placeholder","Password",1,"form__input"],["type","submit",1,"form__btn",3,"disabled"],[1,"form__footer"],[3,"click"]],template:function(t,r){1&t&&(o.YNc(0,h,2,0,"div",0),o.YNc(1,x,11,2,"form",1)),2&t&&(o.Q6J("ngIf",r.isLoading),o.xp6(1),o.Q6J("ngIf",!r.isLoading))},dependencies:[m.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,p.g],styles:[".form[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #217074;border-radius:10px;display:flex;flex-direction:column;box-shadow:2px 2px 8px 2px #aaaba8;position:relative;animation:showForm .5s linear}.form__title[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.5rem;font-weight:500;text-align:left}.form__input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;font-family:Open Sans;font-size:1rem;border:none;border-bottom:2px solid #aaaba8;outline:none}.form__input[_ngcontent-%COMP%]:last-of-type{margin-bottom:2px}.form__message[_ngcontent-%COMP%]{font-size:.8rem;line-height:1;text-align:left;color:#ed413e}.form__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ed413e}.form__btn[_ngcontent-%COMP%]{margin:18px 0 10px;padding:10px;font-family:Open Sans;font-size:1.2rem;font-weight:700;letter-spacing:1px;border-radius:10px;background-color:#217074;border:2px solid #217074;color:#e7eaef;cursor:pointer;transition:all .2s linear}.form__btn[_ngcontent-%COMP%]:hover{background-color:#e7eaef;color:#217074}.form__btn[_ngcontent-%COMP%]:disabled{background-color:#d2d2d4;border-color:#d2d2d4;color:#fff;cursor:auto}.form__footer[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}.form__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-decoration:none;color:#217074;cursor:pointer}.form__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes showForm{0%{top:-15px;opacity:0}to{top:0;opacity:1}}"]}),e})();function C(e,i){1&e&&o._UZ(0,"app-register-form")}function M(e,i){1&e&&o._UZ(0,"app-login-form")}let w=(()=>{class e{constructor(t,r,a){this.authService=t,this.router=r,this.ngZone=a,this.isLoginMode=!0}ngOnInit(){localStorage.getItem("userData")&&this.ngZone.run(()=>{this.router.navigate(["/dashboard"])}),this.authSub=this.authService.isLoginMode.subscribe(t=>{this.isLoginMode=t})}ngOnDestroy(){this.authSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.e),o.Y36(g.F0),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-auth"]],decls:6,vars:2,consts:[[1,"auth"],[1,"auth__form"],[4,"ngIf"],[1,"auth__image"],["src","assets/images/auth.jpg","alt","Authorization"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,C,1,0,"app-register-form",2),o.YNc(3,M,1,0,"app-login-form",2),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"img",4),o.qZA()()),2&t&&(o.xp6(2),o.Q6J("ngIf",!r.isLoginMode),o.xp6(1),o.Q6J("ngIf",r.isLoginMode))},dependencies:[m.O5,_,b],styles:[".auth[_ngcontent-%COMP%]{height:calc(100vh - 125px);padding:20px 0;display:flex;justify-content:space-around;align-items:center}.auth__form[_ngcontent-%COMP%]{width:100%;max-width:300px;text-align:center}.auth__image[_ngcontent-%COMP%]{width:60%}.auth__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 991.98px){.auth__image[_ngcontent-%COMP%]{width:50%}}@media (max-width: 767.98px){.auth[_ngcontent-%COMP%]{height:calc(100vh - 105px)}.auth__image[_ngcontent-%COMP%]{display:none}}@media (max-width: 429.98px){.auth[_ngcontent-%COMP%]{height:calc(100vh - 124px)}}"]}),e})();var v=s(4466);let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[m.ez,n.UX,v.m,g.Bz.forChild([{path:"",component:w}])]}),e})()}}]);